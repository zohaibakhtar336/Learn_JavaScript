/* =============================
   ğŸ“Œ JavaScript Events Cheatsheet
   ============================= */

// 1ï¸âƒ£ Event Handling Methods

// ğŸ”¹ 1.1 Inline Event (Not Recommended)
// Clicking the button shows an alert: "Button Clicked!"
// Issue: Not reusable, mixes JavaScript with HTML.
// <button onclick="alert('Button Clicked!')">Click Me</button>

// ğŸ”¹ 1.2 addEventListener() (Recommended)
// Clicking the button shows an alert.
document.getElementById("btn").addEventListener("click", function () {
    alert("Button Clicked!");
});

// 2ï¸âƒ£ Mouse Events
let btn = document.getElementById("mouseBtn");

btn.addEventListener("mouseover", function () {
    console.log("Mouse Over Event Triggered");
});

btn.addEventListener("mouseout", function () {
    console.log("Mouse Out Event Triggered");
});

// ğŸ”¹ Common Mouse Events: click, dblclick, mousedown, mouseup, mouseover, mouseout, mousemove

// 3ï¸âƒ£ Keyboard Events
document.getElementById("inputBox").addEventListener("keydown", function (event) {
    console.log("Key Down:", event.key);
});

document.getElementById("inputBox").addEventListener("keyup", function (event) {
    console.log("Key Up:", event.key);
});

// ğŸ”¹ Common Keyboard Events: keydown, keyup, keypress

// 4ï¸âƒ£ Form Events
document.getElementById("myForm").addEventListener("submit", function (event) {
    event.preventDefault(); // Prevents form submission
    console.log("Form Submitted!");
});

// ğŸ”¹ Common Form Events: submit, input, change, focus, blur

// 5ï¸âƒ£ Event Delegation
// Efficient way to handle events for multiple dynamic elements
document.getElementById("parent").addEventListener("click", function (event) {
    if (event.target && event.target.matches(".child")) {
        console.log("Child Element Clicked!");
    }
});

// 6ï¸âƒ£ Event Bubbling vs Capturing
// Bubbling (Default: Inner -> Outer), Capturing (Outer -> Inner)
document.getElementById("child").addEventListener("click", function () {
    console.log("Child Clicked");
}, true); // Change true to false for bubbling

// 7ï¸âƒ£ Remove Event Listener
function greet() {
    console.log("Hello");
}
let button = document.getElementById("removeBtn");
button.addEventListener("click", greet);
button.removeEventListener("click", greet);

// 8ï¸âƒ£ Prevent Default Behavior
document.getElementById("link").addEventListener("click", function (event) {
    event.preventDefault(); // Prevents navigating to the link
    console.log("Default action prevented!");
});

// 9ï¸âƒ£ Throttling Events
function throttle(func, limit) {
    let lastFunc;
    let lastRan;
    return function () {
        const context = this, args = arguments;
        if (!lastRan) {
            func.apply(context, args);
            lastRan = Date.now();
        } else {
            clearTimeout(lastFunc);
            lastFunc = setTimeout(function () {
                if ((Date.now() - lastRan) >= limit) {
                    func.apply(context, args);
                    lastRan = Date.now();
                }
            }, limit - (Date.now() - lastRan));
        }
    };
}

/* =============================
   ğŸ“Œ Interview Questions & Answers
   ============================= */

/*
1ï¸âƒ£ What is the difference between inline event handling and addEventListener()?
âœ… Inline event handlers are directly written in HTML, while addEventListener() keeps JavaScript separate and allows multiple handlers.

2ï¸âƒ£ What is event delegation in JavaScript?
âœ… Event delegation is a technique where a parent element listens to events on its child elements, useful for dynamically added elements.

3ï¸âƒ£ What is the difference between event bubbling and capturing?
âœ… Bubbling propagates the event from child to parent (default), while capturing goes from parent to child.

4ï¸âƒ£ How do you remove an event listener in JavaScript?
âœ… Use removeEventListener() with the exact same function reference used in addEventListener().

5ï¸âƒ£ What is event throttling?
âœ… Throttling ensures that an event (like scroll or resize) fires at most once in a specified time interval, improving performance.
*/
